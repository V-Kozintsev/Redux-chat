/*! For license information please see main.6d2cd75458e3a19fe2d5.js.LICENSE.txt */
(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var r=t.g.document;if(!e&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(e=r.currentScript.src),!e)){var n=r.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();var e=t=>Array.isArray(t)?t:[t];Symbol(),Object.getPrototypeOf({});var r="undefined"!=typeof WeakRef?WeakRef:class{constructor(t){this.value=t}deref(){return this.value}};function n(t,e={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:o}=e;let i,c=0;function a(){let e=n;const{length:a}=arguments;for(let t=0,r=a;t<r;t++){const r=arguments[t];if("function"==typeof r||"object"==typeof r&&null!==r){let t=e.o;null===t&&(e.o=t=new WeakMap);const n=t.get(r);void 0===n?(e={s:0,v:void 0,o:null,p:null},t.set(r,e)):e=n}else{let t=e.p;null===t&&(e.p=t=new Map);const n=t.get(r);void 0===n?(e={s:0,v:void 0,o:null,p:null},t.set(r,e)):e=n}}const u=e;let s;if(1===e.s)s=e.v;else if(s=t.apply(null,arguments),c++,o){const t=i?.deref?.()??i;null!=t&&o(t,s)&&(s=t,0!==c&&c--),i="object"==typeof s&&null!==s||"function"==typeof s?new r(s):s}return u.s=1,u.v=s,s}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>c,a.resetResultsCount=()=>{c=0},a}function o(t,...r){const o="function"==typeof t?{memoize:t,memoizeOptions:r}:t,i=(...t)=>{let r,i=0,c=0,a={},u=t.pop();"object"==typeof u&&(a=u,u=t.pop()),function(t,e="expected a function, instead received "+typeof t){if("function"!=typeof t)throw new TypeError(e)}(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const s={...o,...a},{memoize:f,memoizeOptions:l=[],argsMemoize:p=n,argsMemoizeOptions:h=[],devModeChecks:d={}}=s,y=e(l),v=e(h),m=function(t){const e=Array.isArray(t[0])?t[0]:t;return function(t,e="expected all items to be functions, instead received the following types: "){if(!t.every((t=>"function"==typeof t))){const r=t.map((t=>"function"==typeof t?`function ${t.name||"unnamed"}()`:typeof t)).join(", ");throw new TypeError(`${e}[${r}]`)}}(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}(t),g=f((function(){return i++,u.apply(null,arguments)}),...y),w=p((function(){c++;const t=function(t,e){const r=[],{length:n}=t;for(let o=0;o<n;o++)r.push(t[o].apply(null,e));return r}(m,arguments);return r=g.apply(null,t),r}),...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:g,dependencies:m,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>r,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(i,{withTypes:()=>i}),i}var i=o(n),c=Object.assign(((t,e=i)=>{!function(t,e="expected an object, instead received "+typeof t){if("object"!=typeof t)throw new TypeError(e)}(t,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);const r=Object.keys(t);return e(r.map((e=>t[e])),((...t)=>t.reduce(((t,e,n)=>(t[r[n]]=e,t)),{})))}),{withTypes:()=>c}),a=i((function(t){return t.chat.messages}),(function(t){return t.chat.searchTerm}),(function(t,e){return e?t.filter((function(t){return!(!t||"string"!=typeof t.message||"string"!=typeof t.nickname)&&(t.message.toLowerCase().includes(e.toLowerCase())||t.nickname.toLowerCase().includes(e.toLowerCase()))})):t}));function u(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var s=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),f=()=>Math.random().toString(36).substring(7).split("").join("."),l={INIT:`@@redux/INIT${f()}`,REPLACE:`@@redux/REPLACE${f()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f()}`};function p(t){if("object"!=typeof t||null===t)return!1;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||null===Object.getPrototypeOf(t)}function h(t,e,r){if("function"!=typeof t)throw new Error(u(2));if("function"==typeof e&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(u(0));if("function"==typeof e&&void 0===r&&(r=e,e=void 0),void 0!==r){if("function"!=typeof r)throw new Error(u(1));return r(h)(t,e)}let n=t,o=e,i=new Map,c=i,a=0,f=!1;function d(){c===i&&(c=new Map,i.forEach(((t,e)=>{c.set(e,t)})))}function y(){if(f)throw new Error(u(3));return o}function v(t){if("function"!=typeof t)throw new Error(u(4));if(f)throw new Error(u(5));let e=!0;d();const r=a++;return c.set(r,t),function(){if(e){if(f)throw new Error(u(6));e=!1,d(),c.delete(r),i=null}}}function m(t){if(!p(t))throw new Error(u(7));if(void 0===t.type)throw new Error(u(8));if("string"!=typeof t.type)throw new Error(u(17));if(f)throw new Error(u(9));try{f=!0,o=n(o,t)}finally{f=!1}return(i=c).forEach((t=>{t()})),t}return m({type:l.INIT}),{dispatch:m,subscribe:v,getState:y,replaceReducer:function(t){if("function"!=typeof t)throw new Error(u(10));n=t,m({type:l.REPLACE})},[s]:function(){const t=v;return{subscribe(e){if("object"!=typeof e||null===e)throw new Error(u(11));function r(){const t=e;t.next&&t.next(y())}return r(),{unsubscribe:t(r)}},[s](){return this}}}}}function d(...t){return 0===t.length?t=>t:1===t.length?t[0]:t.reduce(((t,e)=>(...r)=>t(e(...r))))}function y(t){return({dispatch:e,getState:r})=>n=>o=>"function"==typeof o?o(e,r,t):n(o)}var v=y(),m=y,g=Symbol.for("immer-nothing"),w=Symbol.for("immer-draftable"),b=Symbol.for("immer-state");function _(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var E=Object.getPrototypeOf;function O(t){return!!t&&!!t[b]}function j(t){return!!t&&(x(t)||Array.isArray(t)||!!t[w]||!!t.constructor?.[w]||N(t)||C(t))}var S=Object.prototype.constructor.toString();function x(t){if(!t||"object"!=typeof t)return!1;const e=E(t);if(null===e)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===S}function P(t,e){0===L(t)?Reflect.ownKeys(t).forEach((r=>{e(r,t[r],t)})):t.forEach(((r,n)=>e(n,r,t)))}function L(t){const e=t[b];return e?e.type_:Array.isArray(t)?1:N(t)?2:C(t)?3:0}function k(t,e){return 2===L(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function T(t,e,r){const n=L(t);2===n?t.set(e,r):3===n?t.add(r):t[e]=r}function N(t){return t instanceof Map}function C(t){return t instanceof Set}function R(t){return t.copy_||t.base_}function A(t,e){if(N(t))return new Map(t);if(C(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=x(t);if(!0===e||"class_only"===e&&!r){const e=Object.getOwnPropertyDescriptors(t);delete e[b];let r=Reflect.ownKeys(e);for(let n=0;n<r.length;n++){const o=r[n],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(E(t),e)}{const e=E(t);if(null!==e&&r)return{...t};const n=Object.create(e);return Object.assign(n,t)}}function M(t,e=!1){return z(t)||O(t)||!j(t)||(L(t)>1&&(t.set=t.add=t.clear=t.delete=D),Object.freeze(t),e&&Object.entries(t).forEach((([t,e])=>M(e,!0)))),t}function D(){_(2)}function z(t){return Object.isFrozen(t)}var I,F={};function B(t){const e=F[t];return e||_(0),e}function $(){return I}function G(t,e){e&&(B("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function U(t){W(t),t.drafts_.forEach(K),t.drafts_=null}function W(t){t===I&&(I=t.parent_)}function X(t){return I={drafts_:[],parent_:I,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function K(t){const e=t[b];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function V(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return void 0!==t&&t!==r?(r[b].modified_&&(U(e),_(4)),j(t)&&(t=q(e,t),e.parent_||Y(e,t)),e.patches_&&B("Patches").generateReplacementPatches_(r[b].base_,t,e.patches_,e.inversePatches_)):t=q(e,r,[]),U(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==g?t:void 0}function q(t,e,r){if(z(e))return e;const n=e[b];if(!n)return P(e,((o,i)=>H(t,n,e,o,i,r))),e;if(n.scope_!==t)return e;if(!n.modified_)return Y(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const e=n.copy_;let o=e,i=!1;3===n.type_&&(o=new Set(e),e.clear(),i=!0),P(o,((o,c)=>H(t,n,e,o,c,r,i))),Y(t,e,!1),r&&t.patches_&&B("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function H(t,e,r,n,o,i,c){if(O(o)){const c=q(t,o,i&&e&&3!==e.type_&&!k(e.assigned_,n)?i.concat(n):void 0);if(T(r,n,c),!O(c))return;t.canAutoFreeze_=!1}else c&&r.add(o);if(j(o)&&!z(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;q(t,o),e&&e.scope_.parent_||"symbol"==typeof n||!Object.prototype.propertyIsEnumerable.call(r,n)||Y(t,o)}}function Y(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&M(e,r)}var J={get(t,e){if(e===b)return t;const r=R(t);if(!k(r,e))return function(t,e,r){const n=tt(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}(t,r,e);const n=r[e];return t.finalized_||!j(n)?n:n===Z(t.base_,e)?(rt(t),t.copy_[e]=nt(n,t)):n},has:(t,e)=>e in R(t),ownKeys:t=>Reflect.ownKeys(R(t)),set(t,e,r){const n=tt(R(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const n=Z(R(t),e),c=n?.[b];if(c&&c.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(((o=r)===(i=n)?0!==o||1/o==1/i:o!=o&&i!=i)&&(void 0!==r||k(t.base_,e)))return!0;rt(t),et(t)}var o,i;return t.copy_[e]===r&&(void 0!==r||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty:(t,e)=>(void 0!==Z(t.base_,e)||e in t.base_?(t.assigned_[e]=!1,rt(t),et(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0),getOwnPropertyDescriptor(t,e){const r=R(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n?{writable:!0,configurable:1!==t.type_||"length"!==e,enumerable:n.enumerable,value:r[e]}:n},defineProperty(){_(11)},getPrototypeOf:t=>E(t.base_),setPrototypeOf(){_(12)}},Q={};function Z(t,e){const r=t[b];return(r?R(r):t)[e]}function tt(t,e){if(!(e in t))return;let r=E(t);for(;r;){const t=Object.getOwnPropertyDescriptor(r,e);if(t)return t;r=E(r)}}function et(t){t.modified_||(t.modified_=!0,t.parent_&&et(t.parent_))}function rt(t){t.copy_||(t.copy_=A(t.base_,t.scope_.immer_.useStrictShallowCopy_))}function nt(t,e){const r=N(t)?B("MapSet").proxyMap_(t,e):C(t)?B("MapSet").proxySet_(t,e):function(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,i=J;r&&(o=[n],i=Q);const{revoke:c,proxy:a}=Proxy.revocable(o,i);return n.draft_=a,n.revoke_=c,a}(t,e);return(e?e.scope_:$()).drafts_.push(r),r}function ot(t){if(!j(t)||z(t))return t;const e=t[b];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=A(t,e.scope_.immer_.useStrictShallowCopy_)}else r=A(t,!0);return P(r,((t,e)=>{T(r,t,ot(e))})),e&&(e.finalized_=!1),r}P(J,((t,e)=>{Q[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),Q.deleteProperty=function(t,e){return Q.set.call(this,t,e,void 0)},Q.set=function(t,e,r){return J.set.call(this,t[0],e,r,t[0])};var it=new class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,r)=>{if("function"==typeof t&&"function"!=typeof e){const r=e;e=t;const n=this;return function(t=r,...o){return n.produce(t,(t=>e.call(this,t,...o)))}}let n;if("function"!=typeof e&&_(6),void 0!==r&&"function"!=typeof r&&_(7),j(t)){const o=X(this),i=nt(t,void 0);let c=!0;try{n=e(i),c=!1}finally{c?U(o):W(o)}return G(o,r),V(n,o)}if(!t||"object"!=typeof t){if(n=e(t),void 0===n&&(n=t),n===g&&(n=void 0),this.autoFreeze_&&M(n,!0),r){const e=[],o=[];B("Patches").generateReplacementPatches_(t,n,e,o),r(e,o)}return n}_(1)},this.produceWithPatches=(t,e)=>{if("function"==typeof t)return(e,...r)=>this.produceWithPatches(e,(e=>t(e,...r)));let r,n;return[this.produce(t,e,((t,e)=>{r=t,n=e})),r,n]},"boolean"==typeof t?.autoFreeze&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof t?.useStrictShallowCopy&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){var e;j(t)||_(8),O(t)&&(O(e=t)||_(10),t=ot(e));const r=X(this),n=nt(t,void 0);return n[b].isManual_=!0,W(r),n}finishDraft(t,e){const r=t&&t[b];r&&r.isManual_||_(9);const{scope_:n}=r;return G(n,e),V(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const n=e[r];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}r>-1&&(e=e.slice(r+1));const n=B("Patches").applyPatches_;return O(t)?n(t,e):this.produce(t,(t=>n(t,e)))}},ct=it.produce;it.produceWithPatches.bind(it),it.setAutoFreeze.bind(it),it.setUseStrictShallowCopy.bind(it),it.applyPatches.bind(it),it.createDraft.bind(it),it.finishDraft.bind(it);var at="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?d:d.apply(null,arguments)};function ut(t,e){function r(...r){if(e){let n=e(...r);if(!n)throw new Error(_t(0));return{type:t,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:t,payload:r[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=e=>function(t){return p(t)&&"type"in t&&"string"==typeof t.type}(e)&&e.type===t,r}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var st=class t extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}static get[Symbol.species](){return t}concat(...t){return super.concat.apply(this,t)}prepend(...e){return 1===e.length&&Array.isArray(e[0])?new t(...e[0].concat(this)):new t(...e.concat(this))}};function ft(t){return j(t)?ct(t,(()=>{})):t}function lt(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}var pt=t=>e=>{setTimeout(e,t)};function ht(t){const e={},r=[];let n;const o={addCase(t,r){const n="string"==typeof t?t:t.type;if(!n)throw new Error(_t(28));if(n in e)throw new Error(_t(29));return e[n]=r,o},addMatcher:(t,e)=>(r.push({matcher:t,reducer:e}),o),addDefaultCase:t=>(n=t,o)};return t(o),[e,r,n]}var dt=Symbol.for("rtk-slice-createasyncthunk");function yt(t,e){return`${t}/${e}`}function vt({creators:t}={}){const e=t?.asyncThunk?.[dt];return function(t){const{name:r,reducerPath:n=r}=t;if(!r)throw new Error(_t(11));const o=("function"==typeof t.reducers?t.reducers(function(){function t(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return t.withTypes=()=>t,{reducer:t=>Object.assign({[t.name]:(...e)=>t(...e)}[t.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(t,e)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}),asyncThunk:t}}()):t.reducers)||{},i=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(t,e){const r="string"==typeof t?t:t.type;if(!r)throw new Error(_t(12));if(r in c.sliceCaseReducersByType)throw new Error(_t(13));return c.sliceCaseReducersByType[r]=e,a},addMatcher:(t,e)=>(c.sliceMatchers.push({matcher:t,reducer:e}),a),exposeAction:(t,e)=>(c.actionCreators[t]=e,a),exposeCaseReducer:(t,e)=>(c.sliceCaseReducersByName[t]=e,a)};function u(){const[e={},r=[],n]="function"==typeof t.extraReducers?ht(t.extraReducers):[t.extraReducers],o={...e,...c.sliceCaseReducersByType};return function(t){let e,[i,a,u]=ht((t=>{for(let e in o)t.addCase(e,o[e]);for(let e of c.sliceMatchers)t.addMatcher(e.matcher,e.reducer);for(let e of r)t.addMatcher(e.matcher,e.reducer);n&&t.addDefaultCase(n)}));if("function"==typeof t)e=()=>ft(t());else{const r=ft(t);e=()=>r}function s(t=e(),r){let n=[i[r.type],...a.filter((({matcher:t})=>t(r))).map((({reducer:t})=>t))];return 0===n.filter((t=>!!t)).length&&(n=[u]),n.reduce(((t,e)=>{if(e){if(O(t)){const n=e(t,r);return void 0===n?t:n}if(j(t))return ct(t,(t=>e(t,r)));{const n=e(t,r);if(void 0===n){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return t}),t)}return s.getInitialState=e,s}(t.initialState)}i.forEach((n=>{const i=o[n],c={reducerName:n,type:yt(r,n),createNotation:"function"==typeof t.reducers};!function(t){return"asyncThunk"===t._reducerDefinitionType}(i)?function({type:t,reducerName:e,createNotation:r},n,o){let i,c;if("reducer"in n){if(r&&!function(t){return"reducerWithPrepare"===t._reducerDefinitionType}(n))throw new Error(_t(17));i=n.reducer,c=n.prepare}else i=n;o.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,c?ut(t,c):ut(t))}(c,i,a):function({type:t,reducerName:e},r,n,o){if(!o)throw new Error(_t(18));const{payloadCreator:i,fulfilled:c,pending:a,rejected:u,settled:s,options:f}=r,l=o(t,i,f);n.exposeAction(e,l),c&&n.addCase(l.fulfilled,c),a&&n.addCase(l.pending,a),u&&n.addCase(l.rejected,u),s&&n.addMatcher(l.settled,s),n.exposeCaseReducer(e,{fulfilled:c||wt,pending:a||wt,rejected:u||wt,settled:s||wt})}(c,i,a,e)}));const s=t=>t,f=new Map;let l;function p(t,e){return l||(l=u()),l(t,e)}function h(){return l||(l=u()),l.getInitialState()}function d(e,r=!1){function n(t){let n=t[e];return void 0===n&&r&&(n=h()),n}function o(e=s){const n=lt(f,r,(()=>new WeakMap));return lt(n,e,(()=>{const n={};for(const[o,i]of Object.entries(t.selectors??{}))n[o]=mt(i,e,h,r);return n}))}return{reducerPath:e,getSelectors:o,get selectors(){return o(n)},selectSlice:n}}const y={name:r,reducer:p,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:h,...d(n),injectInto(t,{reducerPath:e,...r}={}){const o=e??n;return t.inject({reducerPath:o,reducer:p},r),{...y,...d(o,!0)}}};return y}}function mt(t,e,r,n){function o(o,...i){let c=e(o);return void 0===c&&n&&(c=r()),t(c,...i)}return o.unwrapped=t,o}var gt=vt();function wt(){}var{assign:bt}=Object;function _t(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var Et=gt({name:"chat",initialState:{messages:[],users:[],error:null,searchTerm:""},reducers:{setMessages:function(t,e){t.messages=e.payload},addMessage:function(t,e){t.messages.push(e.payload)},setUsers:function(t,e){t.users=e.payload},setError:function(t,e){t.error=e.payload},searchMessage:function(t,e){t.searchTerm=e.payload}}}),Ot=Et.actions,jt=Ot.setMessages,St=Ot.addMessage,xt=(Ot.setUsers,Ot.setError,Ot.searchMessage),Pt=function(t){const e=function(t){const{thunk:e=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:o=!0}=t??{};let i=new st;return e&&("boolean"==typeof e?i.push(v):i.push(m(e.extraArgument))),i},{reducer:r,middleware:n,devTools:o=!0,preloadedState:i,enhancers:c}=t||{};let a,s;if("function"==typeof r)a=r;else{if(!p(r))throw new Error(_t(1));a=function(t){const e=Object.keys(t),r={};for(let n=0;n<e.length;n++){const o=e[n];"function"==typeof t[o]&&(r[o]=t[o])}const n=Object.keys(r);let o;try{!function(t){Object.keys(t).forEach((e=>{const r=t[e];if(void 0===r(void 0,{type:l.INIT}))throw new Error(u(12));if(void 0===r(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(u(13))}))}(r)}catch(t){o=t}return function(t={},e){if(o)throw o;let i=!1;const c={};for(let o=0;o<n.length;o++){const a=n[o],s=r[a],f=t[a],l=s(f,e);if(void 0===l)throw e&&e.type,new Error(u(14));c[a]=l,i=i||l!==f}return i=i||n.length!==Object.keys(t).length,i?c:t}}(r)}s="function"==typeof n?n(e):e();let f=d;o&&(f=at({trace:!1,..."object"==typeof o&&o}));const y=function(...t){return e=>(r,n)=>{const o=e(r,n);let i=()=>{throw new Error(u(15))};const c={getState:o.getState,dispatch:(t,...e)=>i(t,...e)},a=t.map((t=>t(c)));return i=d(...a)(o.dispatch),{...o,dispatch:i}}}(...s),g=(t=>function(e){const{autoBatch:r=!0}=e??{};let n=new st(t);return r&&n.push(((t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let o=!0,i=!1,c=!1;const a=new Set,u="tick"===t.type?queueMicrotask:"raf"===t.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:pt(10):"callback"===t.type?t.queueNotification:pt(t.timeout),s=()=>{c=!1,i&&(i=!1,a.forEach((t=>t())))};return Object.assign({},n,{subscribe(t){const e=n.subscribe((()=>o&&t()));return a.add(t),()=>{e(),a.delete(t)}},dispatch(t){try{return o=!t?.meta?.RTK_autoBatch,i=!o,i&&(c||(c=!0,u(s))),n.dispatch(t)}finally{o=!0}}})})("object"==typeof r?r:void 0)),n})(y);return h(a,i,f(..."function"==typeof c?c(g):g()))}({reducer:{chat:Et.reducer}});function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function kt(){kt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,c=Object.create(i.prototype),a=new T(n||[]);return o(c,"_invoke",{value:x(t,r,a)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function w(){}var b={};s(b,c,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(N([])));E&&E!==r&&n.call(E,c)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,c,a){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Lt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,a)}),(function(t){r("throw",t,c,a)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return r("throw",t,c,a)}))}a(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=p;return function(i,c){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw c;return{value:t,done:!0}}for(n.method=i,n.arg=c;;){var a=n.delegate;if(a){var u=P(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=l(e,r,n);if("normal"===s.type){if(o=n.done?y:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var c=i.arg;return c?c.done?(r[e.resultName]=c.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):c:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Lt(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},j(S.prototype),s(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var c=new S(f(t,r,n,o),i);return e.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},j(O),s(O,u,"Generator"),s(O,c,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],a=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var u=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(u&&s){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(u){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(r),!0).forEach((function(e){Ct(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ct(t,e,r){return(e=function(t){var e=function(t){if("object"!=Lt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Lt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rt(t,e,r,n,o,i,c){try{var a=t[i](c),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function At(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){Rt(i,n,o,c,a,"next",t)}function a(t){Rt(i,n,o,c,a,"throw",t)}c(void 0)}))}}function Mt(){return Dt.apply(this,arguments)}function Dt(){return(Dt=At(kt().mark((function t(){var e,r,n,o;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://otus-js-chat-4ed79-default-rtdb.firebaseio.com/messages.json");case 3:if((e=t.sent).ok){t.next=6;break}throw new Error("Network response was not ok");case 6:return t.next=8,e.json();case 8:return r=t.sent,n=Object.values(r).map((function(t){return Nt(Nt({},t),{},{date:t.date||(new Date).toISOString()})})),t.abrupt("return",n);case 13:return t.prev=13,t.t0=t.catch(0),console.error("Error fetching messages:",t.t0),o=t.t0 instanceof Error?t.t0.message:String(t.t0),Pt.dispatch(Et.actions.setError(null!=o?o:"Unknown error")),t.abrupt("return",[]);case 19:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function zt(t){return It.apply(this,arguments)}function It(){return It=At(kt().mark((function t(e){var r,n=arguments;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:(new Date).toISOString(),t.prev=1,t.next=4,fetch("https://otus-js-chat-4ed79-default-rtdb.firebaseio.com/messages.json",{method:"POST",body:JSON.stringify(Nt(Nt({},e),{},{date:r})),headers:{"Content-Type":"application/json"}});case 4:if(t.sent.ok){t.next=7;break}throw new Error("Failed to send message");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("Error sending message:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),It.apply(this,arguments)}const Ft=t.p+"assets/images/smiley.802e4e1c1149810376f6.png",Bt=t.p+"assets/images/sad.5858c622ba965019e88c.png",$t=t.p+"assets/images/laugh.0d4586a69faacfb46b9e.png";function Gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=document.getElementById("messages");r.innerHTML="",t.forEach((function(t){var n=new Date(t.date).toLocaleString(),o="string"==typeof t.message?t.message.replace(/XD/g,'<img src="'.concat($t,'" alt=":-D" class="emoji ').concat(e&&t===e?"bouncing":"",'"/>')).replace(/:-\)/g,'<img src="'.concat(Ft,'" alt=":-)" class="emoji ').concat(e&&t===e?"bouncing":"",'"/>')).replace(/:-\(/g,'<img src="'.concat(Bt,'" alt=":-(" class="emoji ').concat(e&&t===e?"bouncing":"",'"/>')):"",i=document.createElement("div");i.classList.add("message"),i.innerHTML='\n      <span class="nickname">'.concat(t.nickname,":</span>\n      <span>").concat(o,'</span>\n      <span class="date">').concat(n,"</span>\n    "),r.appendChild(i)})),r.scrollTop=r.scrollHeight}function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}var Wt;function Xt(){Xt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,c=Object.create(i.prototype),a=new T(n||[]);return o(c,"_invoke",{value:x(t,r,a)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function w(){}var b={};s(b,c,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(N([])));E&&E!==r&&n.call(E,c)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,c,a){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Ut(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,a)}),(function(t){r("throw",t,c,a)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return r("throw",t,c,a)}))}a(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=p;return function(i,c){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw c;return{value:t,done:!0}}for(n.method=i,n.arg=c;;){var a=n.delegate;if(a){var u=P(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=l(e,r,n);if("normal"===s.type){if(o=n.done?y:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var c=i.arg;return c?c.done?(r[e.resultName]=c.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):c:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ut(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},j(S.prototype),s(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var c=new S(f(t,r,n,o),i);return e.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},j(O),s(O,u,"Generator"),s(O,c,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],a=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var u=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(u&&s){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(u){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Kt(t,e,r,n,o,i,c){try{var a=t[i](c),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function Vt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){Kt(i,n,o,c,a,"next",t)}function a(t){Kt(i,n,o,c,a,"throw",t)}c(void 0)}))}}document.body.innerHTML='\n      <div id="chat-container">\n        <h1>Чат Приложение</h1>\n        <div id="messages"></div>\n        <input type="text" class="inputVal" id="nickname-input" placeholder="Введите никнейм..." />\n        <input type="text" class="inputVal" id="message-input" placeholder="Введите сообщение..." />\n        <input type="text" class="inputVal" id="search-input" placeholder="Поиск по сообщениям..." />\n        <button id="send-button">Отправить</button>\n      </div>\n    ',null===(Wt=document.getElementById("send-button"))||void 0===Wt||Wt.addEventListener("click",Vt(Xt().mark((function t(){var e,r,n,o;return Xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.getElementById("message-input"),r=document.getElementById("nickname-input"),n=e.value,o=r.value||"Anonymous",""!==n.trim()){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,zt({message:n,nickname:o,date:""});case 8:e.value="";case 9:case"end":return t.stop()}}),t)}))));var qt=document.getElementById("search-input");function Ht(){return(Ht=Vt(Xt().mark((function t(){var e;return Xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt();case 2:e=t.sent,Pt.dispatch(jt(e)),Gt(a(Pt.getState())),Yt((function(t){Pt.dispatch(St(t)),Gt(a(Pt.getState()),t)}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yt(t){new EventSource("https://otus-js-chat-4ed79-default-rtdb.firebaseio.com/messages.json").addEventListener("put",(function(e){var r=JSON.parse(e.data);t(r.data)}))}qt.addEventListener("input",(function(){var t=qt.value;Pt.dispatch(xt(t)),Gt(a(Pt.getState()))})),function(){Ht.apply(this,arguments)}()})();